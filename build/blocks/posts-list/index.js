(()=>{"use strict";var e,r={629:(e,r,t)=>{const o=window.wp.blocks,a=window.React,l=window.wp.i18n,n=window.wp.apiFetch;var s=t.n(n);const c=window.wp.url,d=window.wp.blockEditor,i=window.wp.components,u=window.wp.element,p=JSON.parse('{"UU":"masud-core/posts-list"}');(0,o.registerBlockType)(p.UU,{edit:function({attributes:e,setAttributes:r}){const{order:t,orderBy:o,postsToShow:n,categories:p}=e,[m,w]=(0,u.useState)([]),[v,g]=(0,u.useState)([]);return console.log("categories",p),(0,u.useEffect)((()=>{(async()=>{const e={per_page:n,orderby:o,order:t,categories:p,_embed:"wp:featuredmedia, author, wp:term"},r=(0,c.addQueryArgs)("/wp/v2/posts",e);try{const e=await s()({path:r});w(e)}catch(e){console.error(e)}})(),(async()=>{const e=(0,c.addQueryArgs)("/wp/v2/categories",{per_page:-1});try{const r=await s()({path:e});g(r)}catch(e){console.error(e)}})()}),[t,o,n]),m.length?(0,a.createElement)("div",{...(0,d.useBlockProps)()},(0,a.createElement)(d.InspectorControls,null,(0,a.createElement)(i.PanelBody,{title:(0,l.__)("Posts Query","masud-core")},(0,a.createElement)(i.SelectControl,{multiple:!0,label:"Category",value:p,options:v.map((e=>({label:e.name,value:e.id}))),onChange:e=>{r({postCategories:e})}}),(0,a.createElement)(i.TextControl,{label:(0,l.__)("Number of Posts","masud-core"),value:n,onChange:e=>r({postsToShow:Number(e)})}),(0,a.createElement)(i.SelectControl,{label:(0,l.__)("Order","masud-core"),value:t,options:[{label:(0,l.__)("Ascending","masud-core"),value:"asc"},{label:(0,l.__)("Descending","masud-core"),value:"desc"}],onChange:e=>r({order:e})}),(0,a.createElement)(i.SelectControl,{label:(0,l.__)("Order By","masud-core"),value:o,options:[{label:(0,l.__)("Date","masud-core"),value:"date"},{label:(0,l.__)("Title","masud-core"),value:"title"}],onChange:e=>r({orderBy:e})}))),(0,a.createElement)("div",{className:"posts-list"},m?.map((e=>{const r=e?._embedded?.["wp:featuredmedia"]?.[0]?.media_details?.sizes?.large?.source_url,t=e?.title?.rendered;return(0,a.createElement)("div",{key:e.id,id:e.id,className:"post"},r?(0,a.createElement)("img",{src:r,alt:t}):null,(0,a.createElement)("h3",null,e.title.rendered),(0,a.createElement)("p",{dangerouslySetInnerHTML:{__html:e.excerpt.rendered}}))})))):(0,a.createElement)("div",{...(0,d.useBlockProps)(),className:"mcore-loading"},(0,a.createElement)(i.Spinner,null))}})}},t={};function o(e){var a=t[e];if(void 0!==a)return a.exports;var l=t[e]={exports:{}};return r[e](l,l.exports,o),l.exports}o.m=r,e=[],o.O=(r,t,a,l)=>{if(!t){var n=1/0;for(i=0;i<e.length;i++){for(var[t,a,l]=e[i],s=!0,c=0;c<t.length;c++)(!1&l||n>=l)&&Object.keys(o.O).every((e=>o.O[e](t[c])))?t.splice(c--,1):(s=!1,l<n&&(n=l));if(s){e.splice(i--,1);var d=a();void 0!==d&&(r=d)}}return r}l=l||0;for(var i=e.length;i>0&&e[i-1][2]>l;i--)e[i]=e[i-1];e[i]=[t,a,l]},o.n=e=>{var r=e&&e.__esModule?()=>e.default:()=>e;return o.d(r,{a:r}),r},o.d=(e,r)=>{for(var t in r)o.o(r,t)&&!o.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:r[t]})},o.o=(e,r)=>Object.prototype.hasOwnProperty.call(e,r),(()=>{var e={607:0,359:0};o.O.j=r=>0===e[r];var r=(r,t)=>{var a,l,[n,s,c]=t,d=0;if(n.some((r=>0!==e[r]))){for(a in s)o.o(s,a)&&(o.m[a]=s[a]);if(c)var i=c(o)}for(r&&r(t);d<n.length;d++)l=n[d],o.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return o.O(i)},t=globalThis.webpackChunkmasud_core=globalThis.webpackChunkmasud_core||[];t.forEach(r.bind(null,0)),t.push=r.bind(null,t.push.bind(t))})();var a=o.O(void 0,[359],(()=>o(629)));a=o.O(a)})();